<?xml version="1.0" encoding="utf-8"?>
<odoo>
   <record id="view_glass_productioncontrol_wizard_form" model="ir.ui.view">
        <field name="name">glass.productioncontrol.wizard.form.view</field>
        <field name="model">glass.productioncontrol.wizard</field>
        <field name="arch" type="xml">
            <form string="Control de producción">  
                <field name="is_used" invisible="1"/>
                <field name="existe" invisible="1"/>
                <field name="rotate" invisible="1"/>
             	<group col="6">
                            <field name="stage" required="1" readonly="1"/>
                            <field name="nro_cristal" readonly="0"/>
                            <field name="partner_id" readonly="0"/>
                            <field name="search_code" required="0"/>
                            
                            <field name="production_order" readonly="0"/>
                            <field name="obra" readonly="0"/>
                            
                            
                            
                            <field name="messageline" attrs="{'invisible':[('is_used','=',False)],'readonly':True}"/>
                            <field name="product_id" readonly="0"/>
                            
                            <field name="lot_id" readonly="0"/>

            	</group>

            	<notebook>
            		<page name="image" string="Imagen" attrs="{'invisible':[('stage','not in',['corte','pulido'])]}">
            			<field name="image_glass" widget="image" height="300" width="400"  readonly="1" options='{"size": [750, 700]}'/>
            		</page>

            		<page name="pdf" string="Croquis" attrs="{'invisible':[('stage','not in',['entalle','lavado'])]}">
            			<!--<field name="sketch" readonly="0"  widget="pdf_viewer"/>-->
                        <field name="image_page" widget="image" style="width:90%; height:90%" readonly="1"/>
            		</page>

                    <page name="pdf_r90" string="Croquis 90º" attrs="{'invisible':[('stage','not in',['entalle','lavado'])]}" >
                        <!--<field name="sketch" readonly="0"  widget="pdf_viewer"/>-->
                        <div >
                            <field name="image_page_r90" widget="image"  readonly="1" />
                        </div>
                    </page>

                    <page name="pdf_r180" string="Croquis 180º" attrs="{'invisible':[('stage','not in',['entalle','lavado'])]}" >
                        <!--<field name="sketch" readonly="0"  widget="pdf_viewer"/>-->
                        <field name="image_page_r180" widget="image"  readonly="1" />
                    </page>

                    <page name="pdf_r270" string="Croquis 270º" attrs="{'invisible':[('stage','not in',['entalle','lavado'])]}"  >
                        <!--<field name="sketch" readonly="0"  widget="pdf_viewer"/>-->
                        <field name="image_page_r270" widget="image"  readonly="1" />
                    </page>


            	</notebook>
            	<footer>
                   <button string ="Cerrar" name="cancel" special="cancel" class="oe_link oe_inline"/>
                </footer>
            </form>
        </field>
    </record>


     <record id="view_glass_productioncontrol_wizard_form_manager" model="ir.ui.view">
        <field name="name">glass.productioncontrol.wizard.form.manager.view</field>
        <field name="model">glass.productioncontrol.wizard</field>
        <field name="inherit_id" ref="view_glass_productioncontrol_wizard_form"/>
        <field name="groups_id" eval="[(6, 0, [ref('glass_production_order.group_glass_manager')])]" />                
        <field name="arch" type="xml">
            <field name="stage"  position="attributes">
                <attribute name="readonly">False</attribute>
            </field>
        </field>
    </record>
	<record id="glass_production_control_wizard_action" model="ir.actions.act_window">
        <field name="name">Control de Producción</field>
        <field name="res_model">glass.productioncontrol.wizard</field>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record> 
    <menuitem id="glass_order_control_menu" parent="glass_production_menu" name="Control" sequence="2"/>
     <menuitem id="glass_production_control_wizard_menu" parent="glass_order_control_menu" action="glass_production_control_wizard_action" sequence="1" groups="glass_production_order.group_glass_user"/>

 </odoo>


