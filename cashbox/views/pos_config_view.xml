<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_cashbox_config_form" model="ir.ui.view">
        <field name="name">cashbox.config.form.view</field>
        <field name="model">cashbox.config</field>
        <field name="arch" type="xml">
            <form string="Configuración de caja">
                <sheet>
                    <label for="name" class="oe_edit_only"/>
                    <h1><field name="name"/></h1>
                    <group col="4">
                        <!-- <field name="picking_type_id" widget="selection" groups="stock.group_stock_multi_locations" />
                        <field name="stock_location_id" groups="stock.group_stock_multi_locations"/> -->
                        <field name="company_id" groups="base.group_multi_company"/>
                        <field name="pricelist_id" groups="product.group_sale_pricelist"/>
                        <field name="journal_id" widget="selection"/>
                        <!-- <field name="invoice_journal_id" widget="selection"/> -->
                        <field name="group_by" groups="account.group_account_user"/>
                        <!-- <field name="barcode_nomenclature_id" /> -->
                        <!-- <field name="sequence_id" readonly="1" groups="base.group_no_one"/> -->
                        <!-- <field name="fiscal_position_ids" widget="many2many_tags" options="{'no_create': True}"/>
                        <field name="default_fiscal_position_id" options="{'no_create': True}"/> -->
                        <field name="active"/>
                        <field name="currency_id" invisible="1"/>
                    </group>
                    <separator string="Métodos de pago disponible" colspan="4"/>
                    <field name="journal_ids" colspan="4" nolabel="1" context="{'default_journal_user': 1}">
                        <tree string="Diarios">
                            <field name="code" />
                            <field name="name" />
                            <field name="type" />
                        </tree>
                    </field>
                    <group name="features" string="Características" >
                        <group>
                            <field name="iface_vkeyboard" />
                            <!-- <field name="iface_invoicing" /> -->
                            <field name="iface_precompute_cash" />
                            <!-- <field name="iface_start_categ_id" /> -->
                            <!-- <field name="tip_product_id" /> -->
                            <!-- <field name="iface_tax_included" /> -->
                        </group>
                        <group>
                            <field name="iface_big_scrollbars" />
                            <field name="iface_print_auto" />
                            <!-- <field name="iface_display_categ_images" /> -->
                            <field name="iface_print_skip_screen"  attrs="{'invisible' : [('iface_print_auto', '=', False)]}" />
                        </group>
                    </group>
                    <group string="Hardware Proxy / PosBox" >
                        <field name="proxy_ip" />
                        <field name="iface_print_via_proxy" string="Receipt Printer"/>
                        <!-- <field name="iface_scan_via_proxy" string="Barcode Scanner"/> -->
                        <!-- <field name="iface_electronic_scale" /> -->
                        <field name="iface_cashdrawer" />
                    </group>
                    <group string="Cash Control">
                        <field name="cash_control"/>
                        <!-- <field name="default_cashbox_lines_ids" attrs="{'invisible': [('cash_control', '=', False)]}">
                            <tree string="Cashbox" editable="bottom">
                                <field name="coin_value"/>
                                <field name="number"/>
                                <field name="subtotal"/>
                            </tree>
                        </field> -->
                    </group>
                    <group name="receipt" string="Receipt" >
                        <field name="receipt_header" string="Header" placeholder="A custom receipt header message"/>
                        <field name="receipt_footer" string="Footer" placeholder="A custom receipt footer message"/>
                    </group>
                </sheet>

            </form>
        </field>
    </record>

    <record id="view_cashbox_config_tree" model="ir.ui.view">
        <field name="name">cashbox.config.tree.view</field>
        <field name="model">cashbox.config</field>
        <field name="arch" type="xml">
            <tree string="Configuración de caja">
                <field name="name" />
                <field name="journal_id"/>
                <!-- <field name="stock_location_id" groups="stock.group_stock_multi_locations"/> -->
            </tree>
        </field>
    </record>

    <record id="view_cashbox_config_search" model="ir.ui.view">
        <field name="name">cashbox.config.search.view</field>
        <field name="model">cashbox.config</field>
        <field name="arch" type="xml">
            <search string="cash box config">
                <field name="name" />
                <filter string="Inactivo" domain="[('active', '=', False)]" />
                <!-- <field name="stock_location_id" groups="stock.group_stock_multi_locations" /> -->
            </search>
        </field>
    </record>

    <act_window
        id="act_cashbox_config_sessions"
        name="Sesiones"
        src_model="cashbox.config"
        res_model="cashbox.session"
        domain="[('config_id', '=', active_id)]" />

    <record id="action_cashbox_config_cashbox" model="ir.actions.act_window">
        <field name="name">Caja</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">cashbox.config</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="view_cashbox_config_search" />
    </record>

    <menuitem
        id="menu_cashbox_config_cashbox"
        parent="menu_cashbox_config_product"
        action="action_cashbox_config_cashbox"
        groups="group_cashbox_manager"/>

    <record id="action_cashbox_config_kanban" model="ir.actions.act_window">
        <field name="name">Caja</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">cashbox.config</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="domain"></field>
        <field name="search_view_id" ref="view_cashbox_config_search" />
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click para crea su primara configuración de caja.
            </p>
        </field>
    </record>

    <!-- Barcode Nomenclatures -->
    <!-- <menuitem id="menu_pos_barcode_nomenclature_all" parent="menu_point_config_product" action="barcodes.action_barcode_nomenclature_form" sequence="30"/> -->

    <menuitem id="menu_cashbox_dashboard" action="action_cashbox_config_kanban" parent="menu_cashbox_root" name="Tableros" sequence="1"/>

</odoo>
